<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Tour Booking</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="shortcut icon" href="./icons/fav.png" type="image/x-icon" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <h1>Admin Dashboard</h1>
      <nav>
        <ul>
          <li><button onclick="showUsers()">Users</button></li>
          <li><button onclick="showTours()">Tours</button></li>
          <li><button onclick="showAddTourForm()">Add Tour</button></li>
          <li>
            <button onclick="showAvailableGuides()">available Guides</button>
          </li>
          <li><button onclick="showAddGuideForm()">Add Guide</button></li>
          <li><button onclick="logout()">Logout</button></li>
        </ul>
      </nav>
    </header>

    <section id="users">
      <h2>Users</h2>
      <table>
        <thead>
          <tr>
            <th>User ID</th>
            <th>userName</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="userTableBody">
          <!-- Dynamic content will be inserted here -->
        </tbody>
      </table>
    </section>
    <section id="bookings">
      <h2>Bookings</h2>
      <div id="bookingDetails">
        <!-- Booking details will be shown here -->
      </div>
    </section>

    <section id="tours">
      <h2>Tours</h2>
      <table id="tourTable">
        <thead>
          <tr>
            <th>Tour ID</th>
            <th>Name</th>
            <th>Location</th>
            <th>Image</th>
            <th>Description</th>
            <th>Price</th>
            <th>People</th>
            <th>Assigned Guide</th>
          </tr>
        </thead>
        <tbody id="tourTableBody">
          <!-- Tours will be dynamically inserted here -->
        </tbody>
      </table>
    </section>
    <!-- Section to display available guides -->
    <section id="availableGuides">
      <h2>Available Guides</h2>
      <table id="guideTable">
        <thead>
          <tr>
            <th>Guide ID</th>
            <th>Full Name</th>
            <th>Location</th>
            <th>Email</th>
            <th>Phone</th>
          </tr>
        </thead>
        <tbody id="guideTableBody">
          <!-- Guides will be dynamically inserted here -->
        </tbody>
      </table>
    </section>

    <!-- Add Tour Form Modal -->
    <div id="addTourModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeAddTourForm()">&times;</span>
        <h2>Add Tour</h2>
        <form id="addTourForm" onsubmit="submitTourForm(event)">
          <label for="tourName">Name:</label>
          <input type="text" id="tourName" name="name" required />
          <label for="tourLocation">Location:</label>
          <input type="text" id="tourLocation" name="location" required />
          <label for="tourImageURL">Image URL:</label>
          <input type="url" id="tourImageURL" name="imageURL" required />
          <label for="tourDescription">Description:</label>
          <textarea id="tourDescription" name="description" required></textarea>
          <label for="tourPrice">Price:</label>
          <input type="number" id="tourPrice" name="price" required />
          <label for="tourPeople">People:</label>
          <input type="number" id="tourPeople" name="people" required />
          <label for="tourGuide">Assign Guide:</label>
          <select id="tourGuide" name="assignedGuide">
            <!-- Populate with dynamically fetched guide options -->
          </select>

          <button type="submit">Submit</button>
        </form>
      </div>
    </div>

    <!-- Add Guide Form Modal -->
    <div id="addGuideModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeAddGuideForm()">&times;</span>
        <h2>Add Guide</h2>
        <form id="addTourForm" onsubmit="submitGuideForm(event)">
          <label for="guideFullName">Full Name:</label>
          <input type="text" id="guideFullName" name="fullName" required />
          <label for="guideLocation">Location:</label>
          <input type="text" id="guideLocation" name="location" required />
          <label for="guideEmail">Email:</label>
          <input type="email" id="guideEmail" name="email" required />
          <label for="guideCV">Upload CV:</label>
          <input type="file" id="guideCV" name="cv" accept=".pdf" required />
          <label for="guidePhone">Phone:</label>
          <input type="tel" id="guidePhone" name="phone" required />
          <button type="submit">Submit</button>
        </form>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
